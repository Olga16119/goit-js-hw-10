{"mappings":"YAAA,IAAMA,EAAW,wECIW,IAAtBC,EAASC,SAASC,cAAe,iBACjCC,EAASF,SAASC,cAAe,WACjCE,EAAQH,SAASC,cAAe,UAChCG,EAAYJ,SAASC,cAAe,aAoE1C,SAASI,EAAgBC,GACvBP,EAAOQ,SAAWD,EAClBF,EAAUI,MAAMD,SAAWD,EAAW,OAAS,QAC/CJ,EAAOM,MAAMC,QAAQH,EAAS,QAAQ,M,CAGxC,SAASI,IACPP,EAAMQ,UAAUC,OAAQ,Y,CAG1B,SAASC,IACPT,EAAUU,UAAW,E,CA5EMf,EAAtBgB,iBAAkB,UAGD,WACtB,IAAMC,EAAiBjB,EAAOkB,MAC1BD,GACFX,GAAgB,GAChBQ,KDAqBK,ECEJF,EDDZG,MAAM,GAA4BC,OAhBtB,6CAgBS,eAAgCA,OAAnBF,EAAQ,aAAmBE,OAARtB,IACzDuB,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,IAEjBC,OAAM,SAAAC,G,OAASC,QAAQC,IAAIF,E,KCLzBP,MAAK,SAAAU,GACJ,IAAMC,EAAUD,EAAK,GACfE,EAAQD,EAAQE,OAAO,GAO7B,MANkB,CAChBC,KAAMF,EAAME,KACZC,YAAaH,EAAMG,YACnBC,YAAaJ,EAAMI,YACnBC,MAAON,EAAQO,I,IAIlBlB,MAAK,SAAAmB,IA0BV,SAAyBA,GACvBpC,EAAUU,UAAY,aAAsCM,OAAzBoB,EAAUF,MAAM,WAA+DlB,OAAtDoB,EAAUL,KAAK,yCAAyFf,OAAlDoB,EAAUL,KAAK,qCAA2Ff,OAAxDoB,EAAUJ,YAAY,oCAAwDhB,OAAtBoB,EAAUH,YAAY,O,CA1B9OI,CAAgBD,GAChBnC,GAAgB,E,IAEjBsB,OAAM,SAAAe,GACLb,QAAQC,IAAIY,GACZhC,IACAL,GAAgB,E,KAIpBQ,IDzBJ,IAAyBK,C,IC2CvBb,GAAgB,GDtDTc,MAAM,GAAeC,OALZ,sCAKS,KAAWA,OAARtB,IACzBuB,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,IAEjBC,OAAM,SAAAC,G,OAASC,QAAQC,IAAIF,E,ICkD3BP,MAAK,SAAAU,G,OAAQA,EAAKY,KAAI,SAAAV,G,MAAU,CAAEW,GAAIX,EAAMW,GAAIT,KAAMF,EAAME,K,OAC5Dd,MAAK,SAAAa,GACJnC,EAAOS,MAAMC,QAAW,QAlBH,SAAGyB,GAC1BA,EAAOW,SAAQ,SAAAZ,GACb,IAAMa,EAAS9C,SAAS+C,cAAe,UACvCD,EAAO7B,MAAQgB,EAAMW,GACrBE,EAAOE,YAAcf,EAAME,KAC3BpC,EAAOkD,YAAYH,E,IAcnBI,CAAmBhB,GACvB7B,GAAgB,E,IAEbsB,OAAM,SAAAwB,GACLtB,QAAQC,IAAIqB,GACZzC,IACAL,GAAgB,E","sources":["src/cat-api.js","src/index.js"],"sourcesContent":["const API_KEY = `live_JEDDECEcB3Iw32hjhnhvGjvus0Snj1rRQbdWp2FkukrbyNAebjQTdwCg2ZkLkkBX`;\nconst BASE_URL = `https://api.thecatapi.com/v1/breeds`;\nconst URL_IMG_CAT = `https://api.thecatapi.com/v1/images/search`;\n\n// функція, яка робить запит і повертає масив порід\nfunction fetchBreeds() {\n  return fetch(`${BASE_URL}?${API_KEY}`)\n    .then(responce => {\n      if (!responce.ok) {\n        throw new Error(responce.status);\n      }\n      return responce.json();\n    })\n    .catch(error => console.log(error));\n}\n\n// функція, яка робить запит і повертає данні про одного кота\nfunction fetchCatByBreed(breedId) {\n  return fetch(`${URL_IMG_CAT}?breed_ids=${breedId}&api_key=${API_KEY}`)\n    .then(responce => {\n      if (!responce.ok) {\n        throw new Error(responce.status);\n      }\n      return responce.json();\n    })\n    .catch(error => console.log(error));\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n","// імпорт сервісних функцій\nimport { fetchBreeds, fetchCatByBreed } from './cat-api';\n\n// отримання посилання на елементи\nconst select = document.querySelector(`.breed-select`);\nconst loader = document.querySelector(`.loader`);\nconst error = document.querySelector(`.error`);\nconst infoByCat = document.querySelector(`.cat-info`);\n\n// додаємо обробника подій на селект\nselect.addEventListener(`change`, onSelectChange);\n\n// функція-callback для обробника подій\nfunction onSelectChange() {\n  const selectedOption = select.value;\n  if (selectedOption) {\n    loadingElements(true);\n    clearInfoByCat();\n\n     fetchCatByBreed(selectedOption)\n      .then(data => {\n        const dataCat = data[0];\n        const breed = dataCat.breeds[0];\n        const infoByCat = {\n          name: breed.name,\n          description: breed.description,\n          temperament: breed.temperament,\n          image: dataCat.url,\n        };\n        return infoByCat;\n      })\n      .then(dataByCat => {\n        renderInfoByCat(dataByCat);\n        loadingElements(false)\n      })\n      .catch(error => {\n        console.log(error)\n        showError()\n        loadingElements(false)\n      });\n  }\n  else {\n    clearInfoByCat();\n  }\n}\n\n  // створюємо option і додаємо значення\n  function renderSelectOption(breeds) {\n    breeds.forEach(breed => {\n      const option = document.createElement(`option`);\n      option.value = breed.id;\n      option.textContent = breed.name;\n      select.appendChild(option);\n    });\n  }\n\n  // функція, яка рендерить розмітку для інформаціі про кота\n  function renderInfoByCat(dataByCat) {\n    infoByCat.innerHTML = `<img src=\"${dataByCat.image}\" alt=\"${dataByCat.name}\" width=\"540\"/><h2><span>Name:</span>${dataByCat.name}</h2><p><span>Description:</span>${dataByCat.description}</p><p><span>Temperament:</span>${dataByCat.temperament}</p>`;\n  }\n  loadingElements(true)\n\n  fetchBreeds()\n    .then(data => data.map(breed => ({ id: breed.id, name: breed.name })))\n    .then(breeds => {\n      select.style.display = `block`\n      renderSelectOption(breeds);\n  loadingElements(false);\n})\n    .catch(error => {\n      console.log(error)\n      showError();\n      loadingElements(false)\n    });\n\nfunction loadingElements(loading) {\n  select.disabled = loading;\n  infoByCat.style.disabled = loading ? `none` : `block`;\n  loader.style.display=loading?`block`:`none`\n  }\n\nfunction showError() {\n  error.classList.remove(`unvisible`)\n}\n\nfunction clearInfoByCat() {\n  infoByCat.innerHTML=``\n}"],"names":["$ae0c329fb0fb36dc$var$API_KEY","$b8f9b7833fa37166$var$select","document","querySelector","$b8f9b7833fa37166$var$loader","$b8f9b7833fa37166$var$error","$b8f9b7833fa37166$var$infoByCat","$b8f9b7833fa37166$var$loadingElements","loading","disabled","style","display","$b8f9b7833fa37166$var$showError","classList","remove","$b8f9b7833fa37166$var$clearInfoByCat","innerHTML","addEventListener","selectedOption","value","breedId","fetch","concat","then","responce","ok","Error","status","json","catch","error","console","log","data","dataCat","breed","breeds","name","description","temperament","image","url","dataByCat","$b8f9b7833fa37166$var$renderInfoByCat","error1","map","id","forEach","option","createElement","textContent","appendChild","$b8f9b7833fa37166$var$renderSelectOption","error2"],"version":3,"file":"index.2567ddf4.js.map"}