{"mappings":"AAI4B,MAAtBA,EAASC,SAASC,cAAc,iBAChCC,EAASF,SAASC,cAAc,WAChCE,EAAQH,SAASC,cAAc,UAC/BG,EAAYJ,SAASC,cAAc,aAoEzC,SAASI,EAAgBC,GACvBP,EAAOQ,SAAWD,EAClBF,EAAUI,MAAMD,SAAWD,EAAU,OAAS,QAC9CJ,EAAOM,MAAMC,QAAQH,EAAQ,QAAQ,M,CAGvC,SAASI,IACPP,EAAMQ,UAAUC,OAAO,Y,CAGzB,SAASC,IACPT,EAAUU,UAAU,E,CA5EOf,EAAtBgB,iBAAiB,UAGA,WACtB,MAAMC,EAAiBjB,EAAOkB,MAC1BD,GACFX,GAAgB,GAChBQ,KCAqBK,EDEJF,ECDZG,MAAM,wDAA4BD,mFACtCE,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,IAEvBC,OAAMC,GAASC,QAAQC,IAAIF,MDLzBP,MAAKU,IACJ,MAAMC,EAAUD,EAAK,GACfE,EAAQD,EAAQE,OAAO,GAO7B,MANkB,CAChBC,KAAMF,EAAME,KACZC,YAAaH,EAAMG,YACnBC,YAAaJ,EAAMI,YACnBC,MAAON,EAAQO,IAED,IAEjBlB,MAAKmB,KA0BV,SAAyBA,GACvBnC,EAAUU,UAAY,aAAayB,EAAUF,eAAeE,EAAUL,4CAA4CK,EAAUL,wCAAwCK,EAAUJ,8CAA8CI,EAAUH,iB,CA1BlOI,CAAgBD,GAChBlC,GAAgB,EAAM,IAEvBqB,OAAMe,IACLb,QAAQC,IAAIY,GACZ/B,IACAL,GAAgB,EAAM,KAI1BQ,ICzBJ,IAAyBK,C,ID2CvBb,GAAgB,GCtDTc,MAAM,6GACVC,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,IAEvBC,OAAMC,GAASC,QAAQC,IAAIF,KDkD3BP,MAAKU,GAAQA,EAAKY,KAAIV,IAAU,CAAEW,GAAIX,EAAMW,GAAIT,KAAMF,EAAME,WAC5Dd,MAAKa,IACJlC,EAAOS,MAAMC,QAAU,QAlBF,SAAGwB,GAC1BA,EAAOW,SAAQZ,IACb,MAAMa,EAAS7C,SAAS8C,cAAc,UACtCD,EAAO5B,MAAQe,EAAMW,GACrBE,EAAOE,YAAcf,EAAME,KAC3BnC,EAAOiD,YAAYH,EAAO,G,CAc1BI,CAAmBhB,GACvB5B,GAAgB,EAAM,IAEnBqB,OAAMwB,IACLtB,QAAQC,IAAIqB,GACZxC,IACAL,GAAgB,EAAM","sources":["src/index.js","src/cat-api.js"],"sourcesContent":["// імпорт сервісних функцій\nimport { fetchBreeds, fetchCatByBreed } from './cat-api';\n\n// отримання посилання на елементи\nconst select = document.querySelector(`.breed-select`);\nconst loader = document.querySelector(`.loader`);\nconst error = document.querySelector(`.error`);\nconst infoByCat = document.querySelector(`.cat-info`);\n\n// додаємо обробника подій на селект\nselect.addEventListener(`change`, onSelectChange);\n\n// функція-callback для обробника подій\nfunction onSelectChange() {\n  const selectedOption = select.value;\n  if (selectedOption) {\n    loadingElements(true);\n    clearInfoByCat();\n\n     fetchCatByBreed(selectedOption)\n      .then(data => {\n        const dataCat = data[0];\n        const breed = dataCat.breeds[0];\n        const infoByCat = {\n          name: breed.name,\n          description: breed.description,\n          temperament: breed.temperament,\n          image: dataCat.url,\n        };\n        return infoByCat;\n      })\n      .then(dataByCat => {\n        renderInfoByCat(dataByCat);\n        loadingElements(false)\n      })\n      .catch(error => {\n        console.log(error)\n        showError()\n        loadingElements(false)\n      });\n  }\n  else {\n    clearInfoByCat();\n  }\n}\n\n  // створюємо option і додаємо значення\n  function renderSelectOption(breeds) {\n    breeds.forEach(breed => {\n      const option = document.createElement(`option`);\n      option.value = breed.id;\n      option.textContent = breed.name;\n      select.appendChild(option);\n    });\n  }\n\n  // функція, яка рендерить розмітку для інформаціі про кота\n  function renderInfoByCat(dataByCat) {\n    infoByCat.innerHTML = `<img src=\"${dataByCat.image}\" alt=\"${dataByCat.name}\" width=\"540\"/><h2><span>Name:</span>${dataByCat.name}</h2><p><span>Description:</span>${dataByCat.description}</p><p><span>Temperament:</span>${dataByCat.temperament}</p>`;\n  }\n  loadingElements(true)\n\n  fetchBreeds()\n    .then(data => data.map(breed => ({ id: breed.id, name: breed.name })))\n    .then(breeds => {\n      select.style.display = `block`\n      renderSelectOption(breeds);\n  loadingElements(false);\n})\n    .catch(error => {\n      console.log(error)\n      showError();\n      loadingElements(false)\n    });\n\nfunction loadingElements(loading) {\n  select.disabled = loading;\n  infoByCat.style.disabled = loading ? `none` : `block`;\n  loader.style.display=loading?`block`:`none`\n  }\n\nfunction showError() {\n  error.classList.remove(`unvisible`)\n}\n\nfunction clearInfoByCat() {\n  infoByCat.innerHTML=``\n}","const API_KEY = `live_JEDDECEcB3Iw32hjhnhvGjvus0Snj1rRQbdWp2FkukrbyNAebjQTdwCg2ZkLkkBX`;\nconst BASE_URL = `https://api.thecatapi.com/v1/breeds`;\nconst URL_IMG_CAT = `https://api.thecatapi.com/v1/images/search`;\n\n// функція, яка робить запит і повертає масив порід\nfunction fetchBreeds() {\n  return fetch(`${BASE_URL}?${API_KEY}`)\n    .then(responce => {\n      if (!responce.ok) {\n        throw new Error(responce.status);\n      }\n      return responce.json();\n    })\n    .catch(error => console.log(error));\n}\n\n// функція, яка робить запит і повертає данні про одного кота\nfunction fetchCatByBreed(breedId) {\n  return fetch(`${URL_IMG_CAT}?breed_ids=${breedId}&api_key=${API_KEY}`)\n    .then(responce => {\n      if (!responce.ok) {\n        throw new Error(responce.status);\n      }\n      return responce.json();\n    })\n    .catch(error => console.log(error));\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n"],"names":["$1f0dc3b9307be026$var$select","document","querySelector","$1f0dc3b9307be026$var$loader","$1f0dc3b9307be026$var$error","$1f0dc3b9307be026$var$infoByCat","$1f0dc3b9307be026$var$loadingElements","loading","disabled","style","display","$1f0dc3b9307be026$var$showError","classList","remove","$1f0dc3b9307be026$var$clearInfoByCat","innerHTML","addEventListener","selectedOption","value","breedId","fetch","then","responce","ok","Error","status","json","catch","error","console","log","data","dataCat","breed","breeds","name","description","temperament","image","url","dataByCat","$1f0dc3b9307be026$var$renderInfoByCat","error1","map","id","forEach","option","createElement","textContent","appendChild","$1f0dc3b9307be026$var$renderSelectOption","error2"],"version":3,"file":"index.d656138d.js.map"}